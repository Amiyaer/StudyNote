## 基本特征

##### 并发

宏观上在一段时间内能够同时运行多个程序，实际上这些程序在微观上是交替执行的。操作系统的并发是通过==分时==实现的。

##### 共享

资源可供多个并发的程序共同使用。分为互斥共享**(有其他进程访问时不能访问该资源)**和同时访问**(同样是宏观上的，实际上还是多个进程交替分时访问资源)**。

~~并发与共享的关系：资源的共享是以程序的并发为条件的，如果没有程序的并发，自然不存在资源共享。如果不能实现资源的共享，程序的并发也会受到很大的影响。~~

##### 虚拟

把物理上的实体变为逻辑上的对应物。

##### 异步

进程的执行并不是一贯到底的，而是走走停停的。

##### 基本功能

进程管理、内存管理、文件管理、设备管理等。



#### 运行机制和系统调用

CPU的状态可划分为用户态和核心态，CPU处于核心态时，可以执行特权指令。

##### 中断机制

中断，通常指外中断。指来自CPU执行指令以外的事件的发生，如设备发出的IO结束中断、时钟中断(一个固定的时间片已到，让处理及处理计时相关的任务)。

异常，指内中断、例外或陷入(trap，在用户程序使用系统调用)，指源自CPU指令内部的事件，如非法操作码等引起的事件。异常一旦出现就要立即处理。

##### 系统调用

指的是用户在程序中调用操作系统提供的一些子功能。通过系统调用，用户程序**向操作系统提出服务请求**，由操作系统代为完成。

系统调用的处理由操作系统内核程序完成，这么设计的目的是：用户程序不能直接执行对系统影响非常大的操作。

<img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/tGPV0.png" width="600"/>

##### 用户态→核心态

一些例子：

1. 系统调用
2. 中断
3. 用户程序产生了一个错误状态
4. 用户程序企图执行特权指令

##### 体系结构

大内核：操作系统的主要功能模块都作为一个紧密联系的整体运行在核心态。

微内核：仅仅将最基本的功能(进程管理等)保留在内核，将其他的功能转移到用户态执行，从而降低内核的设计复杂性。移出的部分被划分为若干服务程序，依靠操作系统微内核进行通信。

