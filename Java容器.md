### å®¹å™¨ä¸€è§ˆ

![](E:\new add juan\å­¦ä¹ \é¢è¯•\pic\java-collection-hierarchy[1].png)

é™¤mapå¤–éƒ½å®ç°äº†collectionæ¥å£ï¼Œmapç»“å°¾çš„ç±»éƒ½å®ç°äº†mapæ¥å£ã€‚

#### Listï¼ŒSetï¼ŒMapçš„åŒºåˆ«

Listï¼šå…ƒç´ æœ‰åºå¯é‡å¤

Setï¼šå…ƒç´ æ— åºä¸å¯é‡å¤

Mapï¼šä½¿ç”¨é”®å€¼å¯¹å­˜å‚¨ã€‚é”®æ— åºä¸å¯é‡å¤ï¼Œå€¼æ— åºå¯é‡å¤ã€‚æ¯ä¸ªé”®æœ€å¤šæ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚



#### Collectionæ¥å£

##### List

ArrayListï¼šæ•°ç»„

Vectorï¼šæ•°ç»„

LinkedListï¼šåŒå‘é“¾è¡¨ï¼Œjdk1.6ä¹‹å‰ä¸ºå¾ªç¯é“¾è¡¨

##### Set

HashSetï¼ˆæ— åºï¼Œå”¯ä¸€ï¼‰: åŸºäº HashMap å®ç°çš„ï¼Œåº•å±‚é‡‡ç”¨ HashMap æ¥ä¿å­˜å…ƒç´ ã€‚
LinkedHashSetï¼šHashSet çš„å­ç±»ï¼Œå¹¶ä¸”å…¶å†…éƒ¨æ˜¯é€šè¿‡ LinkedHashMap æ¥å®ç°çš„ã€‚æœ‰ç‚¹ç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰è¯´çš„ LinkedHashMap å…¶å†…éƒ¨æ˜¯åŸºäº HashMap å®ç°ä¸€æ ·ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«ã€‚
TreeSetï¼ˆæœ‰åºï¼Œå”¯ä¸€ï¼‰ï¼š çº¢é»‘æ ‘(è‡ªå¹³è¡¡çš„æ’åºäºŒå‰æ ‘)

##### Map

1.==**HashMap**==:jdk1.8ä¹‹å‰æ˜¯æ•°ç»„åŠ é“¾è¡¨ç»„æˆï¼Œæ•°ç»„æ˜¯ä¸»ä½“ï¼Œè€Œé“¾è¡¨ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªã€‚jdk1.8ä¹‹åå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼å°†é“¾è¡¨è½¬åŒ–ä¸º**çº¢é»‘æ ‘**ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚

2.LinkedHashMapï¼šç»§æ‰¿è‡ªHashMapã€‚åœ¨HashMapçš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€æ¡åŒå‘é“¾è¡¨ï¼Œä½¿å¾—ä¸Šé¢çš„ç»“æ„å¯ä»¥ä¿æŒé”®å€¼å¯¹çš„æ’å…¥é¡ºåºã€‚åŒæ—¶é€šè¿‡å¯¹é“¾è¡¨è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå®ç°äº†è®¿é—®é¡ºåºç›¸å…³é€»è¾‘ã€‚

[LinkedHashMapæºç ](https://www.imooc.com/article/22931)

3.Hashtableï¼š æ•°ç»„+é“¾è¡¨ç»„æˆçš„ï¼Œæ•°ç»„æ˜¯ HashMap çš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ã€‚
4.TreeMapï¼š çº¢é»‘æ ‘ï¼ˆè‡ªå¹³è¡¡çš„æ’åºäºŒå‰æ ‘ï¼‰

##### é›†åˆçš„é€‰ç”¨

whyï¼šé›†åˆæé«˜äº†æ•°æ®å­˜å‚¨çš„çµæ´»æ€§ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨ä¸åŒç±»å‹ä¸åŒæ•°é‡çš„å¯¹è±¡ï¼Œè¿˜å¯ä»¥ä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ã€‚

Mapï¼šéœ€è¦æ’åºä½¿ç”¨TreeMapï¼Œéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨å°±ä½¿ç”¨ConcurrentHashMapã€‚

Listï¼šéœ€è¦ä¿è¯å…ƒç´ å”¯ä¸€å¯ä»¥ä½¿ç”¨TreeSetæˆ–HashSetã€‚



------

### List

#### ArrayListå’ŒVectorçš„åŒºåˆ«

ArrayListé€‚ç”¨äºé¢‘ç¹çš„æŸ¥æ‰¾å·¥ä½œåšï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œè€Œvectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

#### ArrayListå’ŒLinkedListçš„åŒºåˆ«

ä¸¤è€…éƒ½ä¸èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚

ArrayListåº•å±‚ä½¿ç”¨çš„æ˜¯Object[]æ•°ç»„ï¼ŒLinkedListåº•å±‚ä½¿ç”¨çš„æ˜¯åŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚

ArrayListçš„æ’å…¥å’Œåˆ é™¤å—==å…ƒç´ ä½ç½®==çš„å½±å“ï¼ŒæŒ‡å®šä½ç½®æ˜¯O(n-i)ã€‚LinkedListä¸ä¼šå—åˆ°å½±å“ã€‚æ’å…¥ï¼Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦è¿‘ä¼¼äºO(1)ï¼ŒæŒ‡å®šä½ç½®æ˜¯O(n)ã€‚

LinkedListä¸æ”¯æŒ==é«˜æ•ˆçš„éšå³å…ƒç´ è®¿é—®==ï¼Œè€ŒArrayListæ”¯æŒ(get(int index))ã€‚

ArrayList çš„ç©ºé—´æµªè´¹ï¼šlist åˆ—è¡¨çš„ç»“å°¾ä¼šé¢„ç•™ä¸€å®šçš„å®¹é‡ç©ºé—´ã€‚

 LinkedList çš„ç©ºé—´èŠ±è´¹ï¼šæ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯” ArrayList æ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºè¦å­˜æ”¾ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰ã€‚

##### åŒå‘é“¾è¡¨å’ŒåŒå‘å¾ªç¯é“¾è¡¨

åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼šå‰é©±prevå’Œåç»§nextã€‚

åŒå‘å¾ªç¯é“¾è¡¨ï¼šæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„next æŒ‡å‘headï¼Œè€Œheadçš„prevæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ„æˆä¸€ä¸ªç¯ã€‚

##### RandomAccessæ¥å£

è¯¥æ¥å£ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰å®šä¹‰ã€‚è¯¥æ¥å£èµ·åˆ°ä¸€ä¸ªæ ‡è¯†ä½œç”¨ï¼Œæ ‡è¯†è¿™å®ç°äº†è¿™ä¸ªæ¥å£çš„ç±»å…·æœ‰éšæœºè®¿é—®çš„åŠŸèƒ½ã€‚

```java
    public static <T>
    int binarySearch(List<? extends Comparable<? super T>> list, T key) {
        if (list instanceof RandomAccess || list.size()<BINARYSEARCH_THRESHOLD)
            return Collections.indexedBinarySearch(list, key);
        else
            return Collections.iteratorBinarySearch(list, key);
    }
```

ArrayListå®ç°äº†RandomAccessæ¥å£ç„¶è€ŒLinkedListæ²¡æœ‰å®ç°ã€‚

RandomAccessæ¥å£åªæ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œå¹¶ä¸æ˜¯è¯´è¦å®ç°äº†è¿™ä¸ªæ¥å£æ‰å…·æœ‰éšæœºè®¿é—®çš„åŠŸèƒ½ã€‚

#### ArrayListçš„æ‰©å®¹æœºåˆ¶(è§å)



------

### Set

#### Comparableå’ŒComparatorçš„åŒºåˆ«

Comparableæ¥å£ï¼šå‡ºè‡ªjava.langåŒ… å®ƒæœ‰ä¸€ä¸ª ==compareTo==(Object obj)æ–¹æ³•ç”¨æ¥æ’åºã€‚
Comparatoræ¥å£ï¼šå‡ºè‡ª java.util åŒ…å®ƒæœ‰ä¸€ä¸ª==compare==(Object obj1, Object obj2)æ–¹æ³•ç”¨æ¥æ’åºã€‚

ä¸€èˆ¬ä½¿ç”¨ä¸€ä¸ªé›†åˆè‡ªå®šä¹‰æ’åºæ—¶éœ€è¦é‡å†™è¿™ä¸¤ç§æ–¹æ³•ã€‚

##### Comparatorå®šåˆ¶æ’åº

å¦‚æœåªæœ‰ä¸€ä¸ªarrayListå‚æ•°å°±æ˜¯ä½¿ç”¨é»˜è®¤çš„æ’åº

```JAVA
Collections.sort(arrayList, new Comparator<ç±»å‹>() {

            @Override
            public int compare(ç±»å‹ o1, ç±»å‹ o2) {
                return o2.compareTo(o1);
            }
        });
```

##### é‡å†™compareToæ–¹æ³•

ä½œä¸ºæŸä¸ªç‰¹å®šç±»(æˆ–æ•°æ®ç±»å‹)çš„æ–¹æ³•

```java
 @Override
    public int compareTo(ç±» o) {
        if (/*æ¯”è¾ƒæ¡ä»¶1*/) {
            return 1;
            //return 1 è¡¨ç¤ºå¾€æ¯”è¾ƒå¯¹è±¡åæ’
        }
        if (/*æ¯”è¾ƒæ¡ä»¶2*/) {
            return -1;
            //return -1 è¡¨ç¤ºå¾€æ¯”è¾ƒå¯¹è±¡å‰é¢æ’
        }
        return 0;
        //ç›¸ç­‰ï¼Œä¸éœ€è¦æ’åº
    }
```



#### æ— åºæ€§å’Œä¸å¯é‡å¤æ€§

æ— åºæ€§ï¼šä¸ç­‰äºéšæœºæ€§ï¼Œæ— åºæ€§è¡¨ç¤ºå­˜å‚¨çš„æ•°æ®åœ¨==åº•å±‚çš„æ•°ç»„==ä¸­å¹¶éæŒ‰ç…§æ•°ç»„ç´¢å¼•çš„é¡ºåºæ·»åŠ ï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®çš„å“ˆå¸Œå€¼å†³å®šã€‚

ä¸å¯é‡å¤æ€§ï¼šæ·»åŠ çš„å…ƒç´ æŒ‰ç…§equals()åˆ¤æ–­æ—¶è¿”å›falseï¼Œéœ€è¦åŒæ—¶é‡å†™equals()æ–¹æ³•å’ŒHashCode()æ–¹æ³•ã€‚



#### HashSetã€LinkedHashSetå’ŒTreeSetä¸‰è€…çš„å¼‚åŒ

HashSetæ˜¯Setæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼Œåº•å±‚æ˜¯HashMapï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯ä»¥å­˜å‚¨nullå€¼ã€‚

LinkedHashSetæ˜¯HashSetçš„å­ç±»ï¼Œèƒ½å¤ŸæŒ‰ç…§æ·»åŠ çš„é¡ºåºéå†ã€‚

TreeSetï¼šåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ï¼Œèƒ½å¤ŸæŒ‰ç…§æ·»åŠ å…ƒç´ çš„é¡ºåºè¿›è¡Œéå†ï¼Œæ’åºçš„æ–¹å¼æœ‰è‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åºã€‚



------

### Mapæ¥å£

#### HashMapå’ŒHashtableçš„åŒºåˆ«

1.HashMapçº¿ç¨‹ä¸å®‰å…¨ï¼ŒHashTableå†…éƒ¨çš„æ–¹æ³•ä½¿ç”¨synchronizedä¿®é¥°ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚(ä½†æ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨ä½¿ç”¨ConcurrentHashMapï¼ğŸ˜…)

2.HashMapçš„æ•ˆç‡æ›´é«˜ã€‚HashTableåŸºæœ¬è¢«æ·˜æ±°äº†ã€‚

3.HashMapå¯ä»¥å‚¨å­˜nullçš„keyå’Œvalueï¼Œä½†æ˜¯HashTableä¸èƒ½ã€‚

4.==**åˆå§‹å¤§å°ä¸æ‰©å®¹æœºåˆ¶**==

==HashMapçš„é»˜è®¤åˆå§‹å¤§å°ä¸º**16**ï¼Œä¹‹åæ¯æ¬¡æ‰©å®¹ä¸ºåŸæ¥çš„2å€ã€‚å¦‚æœè®¾ç½®äº†åˆå§‹å¤§å°ï¼Œä¼šæ‰©å……ä¸º**2çš„å¹‚æ¬¡æ–¹**(**tableSizeFor()**æ–¹æ³•è¿›è¡Œäº†ä¿è¯)ã€‚==

HashTableçš„é»˜è®¤åˆå§‹å¤§å°ä¸º11ï¼Œæ¯æ¬¡æ‰©å……å®¹é‡å˜ä¸ºåŸæ¥çš„2n+1ã€‚å¦‚æœè®¾ç½®äº†åˆå§‹å¤§å°ï¼Œå°±ä¼šç›´æ¥ä½¿ç”¨ç»™å®šçš„å¤§å°ã€‚

5.åº•å±‚æ•°æ®ç»“æ„ï¼šjdk1.8ä»¥åçš„HashMapåœ¨è§£å†³å“ˆå¸Œå†²çªçš„æ—¶å€™æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼(é»˜è®¤ä¸º8)æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ã€‚HashTableæ²¡æœ‰è¿™æ ·çš„æœºåˆ¶ã€‚

*<u>å°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘å‰ä¼šåˆ¤æ–­ï¼Œå¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦å°äº 64ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©å…ˆè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œè€Œä¸æ˜¯è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚</u>*



#### HashMapå’ŒHashSetçš„åŒºåˆ«

HashSetåº•å±‚åŸºäºHashMapå®ç°ï¼Œé™¤äº†clone()ã€writeObject()ã€readObject()æ˜¯è‡ªå·±å®ç°çš„æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•éƒ½æ˜¯ç›´æ¥è°ƒç”¨HashMap

| HashMap             | HashSet                                                      |
| ------------------- | ------------------------------------------------------------ |
| å®ç°äº†Mapæ¥å£       | å®ç°Setæ¥å£                                                  |
| å­˜å‚¨é”®å€¼å¯¹          | å­˜å‚¨å¯¹è±¡                                                     |
| è°ƒç”¨put()æ·»åŠ å…ƒç´    | è°ƒç”¨add()æ–¹æ³•å‘Setä¸­æ·»åŠ å…ƒç´                                  |
| ä½¿ç”¨keyè®¡ç®—hashcode | ä½¿ç”¨æˆå‘˜å¯¹è±¡æ¥è®¡ç®—hashcodeå€¼ï¼Œå¯¹äºä¸¤ä¸ªå¯¹è±¡æ¥è¯´ï¼Œhashcodeå¯èƒ½ç›¸åŒï¼Œæ‰€ä»¥equals()æ–¹æ³•ç”¨æ¥åˆ¤æ–­å¯¹è±¡çš„ç›¸ç­‰æ€§ |



#### HashMapå’ŒTreeMapçš„åŒºåˆ«

éƒ½ç»§æ‰¿è‡ªAbstractMapï¼ŒTreeMapè¿˜å®ç°äº†NavigableMapæ¥å£(æœç´¢èƒ½åŠ›)å’ŒSortedMapæ¥å£(æ ¹æ®é”®``é»˜è®¤å‡åº``æ’åºçš„èƒ½åŠ›)ã€‚

*Compareæ–¹æ³•returnæ­£æ•°æ—¶äº¤æ¢ä½ç½®*

è‡ªå·±å®ç°TreeMapä¸­çš„compareæ–¹æ³•

```java
TreeMap<Person, String> treeMap = new TreeMap<>((person1, person2) -> {
  int num = person1.getAge() - person2.getAge();
  return Integer.compare(num, 0);
});

```



#### HashSetæŸ¥é‡

æŠŠå¯¹è±¡åŠ å…¥åˆ°HashSetä¸­ï¼ŒHashSetä¼šè®¡ç®—å¯¹è±¡çš„hashcodeåˆ¤æ–­å…¶åŠ å…¥çš„ä½ç½®ã€‚å¦‚æœå‘ç°æœ‰ç›¸åŒhashcodeçš„å¯¹è±¡ï¼Œå°±ä¼šè°ƒç”¨equals()æ–¹æ³•æ¥æ£€æŸ¥hashcodeç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœç›¸åŒï¼ŒHashSetå°±ä¸ä¼šè®©åŠ å…¥æ“ä½œæˆåŠŸã€‚

ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ï¼Œä»–ä»¬ä¹Ÿä¸ä¸€å®šç›¸ç­‰ã€‚

å¦‚æœequals()æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™hashcode()æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–ã€‚ï¼Ÿ



**==ä¸ equals çš„åŒºåˆ«**
å¯¹äºåŸºæœ¬ç±»å‹æ¥è¯´ï¼Œå‰è€…æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ï¼›
å¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´ï¼Œå‰è€…æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦==æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡åœ°å€==ï¼ˆä¸¤è€…åœ¨å†…å­˜ä¸­å­˜æ”¾çš„åœ°å€ï¼ˆå †å†…å­˜åœ°å€ï¼‰æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°æ–¹ï¼‰ï¼›
å¯¹äºå¼•ç”¨ç±»å‹ï¼ˆåŒ…æ‹¬åŒ…è£…ç±»å‹ï¼‰æ¥è¯´ï¼Œequals å¦‚æœæ²¡æœ‰è¢«é‡å†™ï¼Œå¯¹æ¯”å®ƒä»¬çš„==åœ°å€æ˜¯å¦ç›¸ç­‰==ï¼›å¦‚æœ equals()æ–¹æ³•è¢«é‡å†™ï¼ˆä¾‹å¦‚ Stringï¼‰ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯åœ°å€é‡Œçš„å†…å®¹ã€‚



#### ==HashMapçš„åº•å±‚å®ç°==

åº•å±‚ç»´æŠ¤`Node`ç±»å‹çš„æ•°ç»„`table`ã€‚æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªNodeã€‚

åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå°†è´Ÿè½½å› å­`loadfactor`åˆå§‹åŒ–ä¸º0.75ã€‚

ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ ï¼šéœ€è¦æ‰©å®¹tableçš„å®¹é‡ä¸º16ï¼Œä¸´ç•Œå€¼`threshold`ä¸º12(16*`loadfactor`)

ä»¥åå†è¿›è¡Œæ‰©å®¹æ—¶



treeifyBinæ–¹æ³•

```java
 final void treeifyBin(Node<K,V>[] tab, int hash) {
        //å®šä¹‰å‡ ä¸ªå˜é‡ï¼Œnæ˜¯æ•°ç»„é•¿åº¦ï¼Œindexæ˜¯ç´¢å¼•
        int n, index; Node<K,V> e;
        //è¿™é‡Œçš„tabæŒ‡çš„æ˜¯æœ¬HashMapä¸­çš„æ•°ç»„ï¼Œnä¸ºæ•°å­—é•¿åº¦ï¼Œå¦‚æœæ•°ç»„ä¸ºnullæˆ–è€…æ•°ç»„é•¿åº¦å°äº64
        if (tab == null || (n = tab.length) < MIN_TREEIFY_CAPACITY)
            //åˆ™è°ƒç”¨resize()æ–¹æ³•ç›´æ¥æ‰©å®¹ï¼Œä¸è½¬çº¢é»‘æ ‘
            resize();
        //å¦åˆ™è¯´æ˜æ»¡è¶³è½¬çº¢é»‘æ ‘æ¡ä»¶ï¼Œé€šè¿‡æŒ‰ä½ä¸è¿ç®—å–å¾—ç´¢å¼•indexï¼Œå¹¶å°†è¯¥ç´¢å¼•å¯¹åº”çš„nodeèŠ‚ç‚¹èµ‹å€¼ç»™eï¼Œeä¸ä¸ºnullæ—¶    
        else if ((e = tab[index = (n - 1) & hash]) != null) {
            //å®šä¹‰å‡ ä¸ªå˜é‡ï¼Œhdä»£è¡¨å¤´èŠ‚ç‚¹ï¼Œtlä»£è¡¨å°¾èŠ‚ç‚¹
            TreeNode<K,V> hd = null, tl = null;
            do {
                //å…ˆæŠŠeèŠ‚ç‚¹è½¬æˆTreeNodeç±»å‹ï¼Œå¹¶èµ‹å€¼ç»™p
                TreeNode<K,V> p = replacementTreeNode(e, null);
                //å¦‚æœå°¾èŠ‚ç‚¹tlä¸ºç©ºï¼Œåˆ™è¯´æ˜è¿˜æ²¡æœ‰æ ¹èŠ‚ç‚¹ï¼Œè¯•æƒ³ä¸‹ï¼Œè¿™æ—¶å…ƒç´ æ•°ç›®éƒ½è¶…è¿‡8ä¸ªäº†ï¼Œè¿˜èƒ½æ²¡æœ‰å°¾èŠ‚ç‚¹ä¹ˆï¼Œæ‰€ä»¥æ²¡æœ‰å°¾èŠ‚ç‚¹åªèƒ½è¯´æ˜è¿˜æ²¡è®¾ç½®æ ¹èŠ‚ç‚¹
                if (tl == null)
                    //è®¾ç½®æ ¹èŠ‚ç‚¹ï¼ŒæŠŠpèµ‹å€¼ç»™æ ¹èŠ‚ç‚¹hd
                    hd = p;
                else {
                    //æŠŠtlè®¾ç½®ä¸ºpçš„å‰é©±èŠ‚ç‚¹
                    p.prev = tl;
                    //æŠŠpè®¾ç½®ä¸ºtlçš„åç»§èŠ‚ç‚¹ï¼Œè¿™ä¸¤æ­¥å…¶å®å°±æ˜¯æˆ‘æŒ‡å‘ä½ ï¼Œä½ æŒ‡å‘æˆ‘çš„å…³ç³»ï¼Œä¸ºäº†å½¢æˆåŒå‘é“¾è¡¨ 
                    tl.next = p;
                }
                //æŠŠé¦–èŠ‚ç‚¹è®¾ç½®æˆpåï¼ŒæŠŠpèµ‹å€¼ç»™å°¾èŠ‚ç‚¹tlï¼Œç„¶åä¼šå†å–é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè½¬æˆTreeNodeç±»å‹åå†èµ‹å€¼ç»™pï¼Œå¦‚æ­¤å¾ªç¯
                tl = p;
                //å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œä¹Ÿå°±ä»£è¡¨è¿™é“¾è¡¨éå†å¥½äº†
            } while ((e = e.next) != null);
            //ç”¨æ–°ç”Ÿæˆçš„åŒå‘é“¾è¡¨æ›¿ä»£æ—§çš„å•å‘é“¾è¡¨ï¼Œå…¶å®å°±æ˜¯æŠŠè¿™ä¸ªæ•°ç»„å¯¹åº”çš„ä½ç½®é‡æ–°èµ‹å€¼æˆæ–°åŒå‘é“¾è¡¨çš„é¦–èŠ‚ç‚¹
            if ((tab[index] = hd) != null)
                //è¿™ä¸ªæ–¹æ³•é‡Œå°±å¼€å§‹åšå„ç§æ¯”è¾ƒï¼Œå·¦æ—‹å³æ—‹ï¼Œç„¶åæŠŠåŒå‘é“¾è¡¨ææˆä¸€ä¸ªçº¢é»‘æ ‘
                hd.treeify(tab);
        }
    }

```

HashMapçš„éå†æ–¹å¼ï¼š

* è¿­ä»£å™¨

```java
Iterator<Map.Entry<Integer, String>> iterator = map.entrySet().iterator();
        while (iterator.hasNext()) {
            Map.Entry<Integer, String> entry = iterator.next();
            System.out.println(entry.getKey());
            System.out.println(entry.getValue());
        }
//Iterator<Integer> iterator = map.keySet().iterator();
```

* for each

```java
for (Map.Entry<Integer, String> entry : map.entrySet()) {
            System.out.println(entry.getKey());
            System.out.println(entry.getValue());
        }
//for (Integer key : map.keySet()) {}
```

* Lambda

```java
map.forEach((key, value) -> {
            System.out.println(key);
            System.out.println(value);
        });
```

* Streams APIéå†

```java
//å•çº¿ç¨‹
map.entrySet().stream().forEach((entry) -> {
            System.out.println(entry.getKey());
            System.out.println(entry.getValue());
        });
//å¤šçº¿ç¨‹
map.entrySet().parallelStream().forEach((entry) -> {
            System.out.println(entry.getKey());
            System.out.println(entry.getValue());
        });
```











---









### Collectionså·¥å…·ç±»

`Collections.` 

```java
void reverse(List list)//åè½¬
void shuffle(List list)//éšæœºæ’åº
void sort(List list)//æŒ‰è‡ªç„¶æ’åºçš„å‡åºæ’åº
void sort(List list, Comparator c)//å®šåˆ¶æ’åºï¼Œç”±Comparatoræ§åˆ¶æ’åºé€»è¾‘
void swap(List list, int i , int j)//äº¤æ¢ä¸¤ä¸ªç´¢å¼•ä½ç½®çš„å…ƒç´ 
void rotate(List list, int distance)//æ—‹è½¬ã€‚å½“distanceä¸ºæ­£æ•°æ—¶ï¼Œå°†listådistanceä¸ªå…ƒç´ æ•´ä½“ç§»åˆ°å‰é¢ã€‚å½“distanceä¸ºè´Ÿæ•°æ—¶ï¼Œå°† listçš„å‰distanceä¸ªå…ƒç´ æ•´ä½“ç§»åˆ°åé¢
```

```java
int binarySearch(List list, Object key)//å¯¹Listè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›ç´¢å¼•ï¼Œæ³¨æ„Listå¿…é¡»æ˜¯æœ‰åºçš„
int max(Collection coll)//æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›æœ€å¤§çš„å…ƒç´ ã€‚ ç±»æ¯”int min(Collection coll)
int max(Collection coll, Comparator c)//æ ¹æ®å®šåˆ¶æ’åºï¼Œè¿”å›æœ€å¤§å…ƒç´ ï¼Œæ’åºè§„åˆ™ç”±Comparatatorç±»æ§åˆ¶ã€‚ç±»æ¯”int min(Collection coll, Comparator c)
void fill(List list, Object obj)//ç”¨æŒ‡å®šçš„å…ƒç´ ä»£æ›¿æŒ‡å®šlistä¸­çš„æ‰€æœ‰å…ƒç´ 
int frequency(Collection c, Object o)//ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°
int indexOfSubList(List list, List target)//ç»Ÿè®¡targetåœ¨listä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°åˆ™è¿”å›-1ï¼Œç±»æ¯”int lastIndexOfSubList(List source, list target)
boolean replaceAll(List list, Object oldVal, Object newVal)//ç”¨æ–°å…ƒç´ æ›¿æ¢æ—§å…ƒç´ 
```
